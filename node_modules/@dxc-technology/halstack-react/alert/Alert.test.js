"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _Alert = _interopRequireDefault(require("./Alert"));

describe("Alert component tests", function () {
  test("Info alert renders with correct text", function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      type: "info",
      inlineText: "info-alert-text"
    })),
        getByText = _render.getByText;

    expect(getByText("information")).toBeTruthy();
    expect(getByText("info-alert-text")).toBeTruthy();
  });
  test("Confirm alert renders with correct text", function () {
    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      type: "confirm",
      inlineText: "confirm-alert-text"
    })),
        getByText = _render2.getByText;

    expect(getByText("success")).toBeTruthy();
    expect(getByText("confirm-alert-text")).toBeTruthy();
  });
  test("Warning alert renders with correct text", function () {
    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      type: "warning",
      inlineText: "warning-alert-text"
    })),
        getByText = _render3.getByText;

    expect(getByText("warning")).toBeTruthy();
    expect(getByText("warning-alert-text")).toBeTruthy();
  });
  test("Error alert renders with correct text", function () {
    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      type: "error",
      inlineText: "error-alert-text"
    })),
        getByText = _render4.getByText;

    expect(getByText("error")).toBeTruthy();
    expect(getByText("error-alert-text")).toBeTruthy();
  });
  test("Alert renders with correct children", function () {
    var _render5 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      inlineText: "alert-text"
    }, /*#__PURE__*/_react["default"].createElement("p", null, "sample-children"))),
        getByText = _render5.getByText;

    expect(getByText("alert-text")).toBeTruthy();
    expect(getByText("sample-children")).toBeTruthy();
  });
  test("Calls correct function on close", function () {
    var onClose = jest.fn();

    var _render6 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      onClose: onClose,
      inlineText: "info-alert-text"
    })),
        getByRole = _render6.getByRole;

    var closeButton = getByRole("button");

    _react2.fireEvent.click(closeButton);

    expect(onClose).toHaveBeenCalled();
  });
  test("Modal alert calls correct function on close", function () {
    var onClose = jest.fn();

    var _render7 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Alert["default"], {
      onClose: onClose,
      mode: "modal",
      inlineText: "info-alert-text"
    })),
        getByRole = _render7.getByRole;

    var closeButton = getByRole("button");

    _react2.fireEvent.click(closeButton);

    expect(onClose).toHaveBeenCalled();
  });
});