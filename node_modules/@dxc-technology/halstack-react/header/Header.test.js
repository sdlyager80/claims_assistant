"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _Header = _interopRequireDefault(require("./Header"));

describe("Header component tests", function () {
  beforeAll(function () {
    Object.defineProperty(window, "matchMedia", {
      writable: true,
      value: jest.fn().mockImplementation(function () {
        return {
          matches: false
        };
      })
    });
  });
  test("Header renders with default logo", function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Header["default"], null)),
        getByTitle = _render.getByTitle;

    expect(getByTitle("DXC Logo")).toBeTruthy();
  });
  test("Call correct function on logo click", function () {
    var onClick = jest.fn();

    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Header["default"], {
      onClick: onClick
    })),
        getByTitle = _render2.getByTitle;

    var logo = getByTitle("DXC Logo");

    _react2.fireEvent.click(logo);

    expect(onClick).toHaveBeenCalled();
  });
  test("Header renders with correct children", function () {
    // We need to force the offsetWidth value
    Object.defineProperty(HTMLElement.prototype, "offsetWidth", {
      configurable: true,
      value: 1024
    });

    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Header["default"], {
      content: /*#__PURE__*/_react["default"].createElement("p", null, "header-child-text")
    })),
        getByText = _render3.getByText;

    expect(getByText("header-child-text")).toBeTruthy();
  });
  test("Header renders menu button in mobile", function () {
    Object.defineProperty(HTMLElement.prototype, "offsetWidth", {
      configurable: true,
      value: 425
    });
    Object.defineProperty(window, "matchMedia", {
      writable: true,
      value: jest.fn().mockImplementation(function () {
        return {
          matches: true
        };
      })
    });

    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Header["default"], {
      responsiveContent: function responsiveContent(closeMenu) {
        return /*#__PURE__*/_react["default"].createElement("p", null, "header-child-text");
      }
    })),
        getByText = _render4.getByText;

    expect(getByText("Menu")).toBeTruthy();
  });
});