"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _linkedin = _interopRequireDefault(require("../../app/src/images/linkedin.svg"));

var _Footer = _interopRequireDefault(require("./Footer"));

describe("Footer component tests", function () {
  test("Footer renders with default logo", function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], null)),
        getByTitle = _render.getByTitle;

    expect(getByTitle("DXC Logo")).toBeTruthy();
  });
  test("Footer renders with social links", function () {
    var social = [{
      href: "https://www.test.com/test",
      logo: _linkedin["default"]
    }];

    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], {
      socialLinks: social
    })),
        getByRole = _render2.getByRole;

    var socialIcon = getByRole("link");
    expect(socialIcon.getAttribute("href")).toBe("https://www.test.com/test");
  });
  test("Footer renders with bottom links", function () {
    var bottom = [{
      href: "https://www.test.com/test",
      text: "bottom-link-text"
    }];

    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], {
      bottomLinks: bottom
    })),
        getByText = _render3.getByText;

    var link = getByText("bottom-link-text");
    expect(link.getAttribute("href")).toBe("https://www.test.com/test");
  });
  test("Footer renders with copyright text", function () {
    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], {
      copyright: "test-copyright"
    })),
        getByText = _render4.getByText;

    expect(getByText("test-copyright")).toBeTruthy();
  });
  test("Footer renders with correct children", function () {
    //We need to force the offsetWidth value
    Object.defineProperty(HTMLElement.prototype, "offsetWidth", {
      configurable: true,
      value: 1024
    });

    var _render5 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], null, /*#__PURE__*/_react["default"].createElement("p", null, "footer-child-text"))),
        getByText = _render5.getByText;

    expect(getByText("footer-child-text")).toBeTruthy();
  });
  test("Footer renders with children in mobile", function () {
    //425 is mobile width
    Object.defineProperty(HTMLElement.prototype, "offsetWidth", {
      configurable: true,
      value: 425
    });

    var _render6 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], null, /*#__PURE__*/_react["default"].createElement("p", null, "footer-child-text"))),
        queryByText = _render6.queryByText;

    expect(queryByText("footer-child-text")).toBeTruthy();
  });
  test("Footer is fully rendered", function () {
    Object.defineProperty(HTMLElement.prototype, "offsetWidth", {
      configurable: true,
      value: 1024
    });
    var social = [{
      href: "https://www.test.com/social",
      logo: _linkedin["default"]
    }];
    var bottom = [{
      href: "https://www.test.com/bottom",
      text: "bottom-link-text"
    }];

    var _render7 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Footer["default"], {
      socialLinks: social,
      bottomLinks: bottom,
      copyright: "test-copyright"
    }, /*#__PURE__*/_react["default"].createElement("p", null, "footer-child-text"))),
        getAllByRole = _render7.getAllByRole,
        getByText = _render7.getByText;

    var socialIcon = getAllByRole("link")[0];
    expect(socialIcon.getAttribute("href")).toBe("https://www.test.com/social");
    var bottomLink = getByText("bottom-link-text");
    expect(bottomLink.getAttribute("href")).toBe("https://www.test.com/bottom");
    expect(getByText("test-copyright")).toBeTruthy();
    expect(getByText("footer-child-text")).toBeTruthy();
  });
});