"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _Link = _interopRequireDefault(require("./Link"));

describe("Link component tests", function () {
  test("Link renders with correct text", function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], null, "Link")),
        getByText = _render.getByText;

    expect(getByText("Link")).toBeTruthy();
  });
  test("Link renders with correct href", function () {
    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      href: "/testPage"
    }, "Link")),
        getByRole = _render2.getByRole;

    expect(getByRole("link").getAttribute("href")).toEqual("/testPage");
  });
  test("Link renders with correct disabled state", function () {
    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      href: "/testPage",
      disabled: true
    }, "Link")),
        getByText = _render3.getByText;

    expect(getByText("Link").hasAttribute("href")).toBeFalsy();

    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      onClick: function onClick() {
        return console.log("Andorra");
      },
      disabled: true
    }, "LinkButton")),
        getByTextLinkButton = _render4.getByText;

    expect(getByTextLinkButton("LinkButton").hasAttribute("onclick")).toBeFalsy();
  });
  test("Link open new tab", function () {
    var _render5 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      href: "/testPage",
      newWindow: true
    }, "Link")),
        getByRole = _render5.getByRole;

    expect(getByRole("link").getAttribute("target")).toEqual("_blank");
  });
  test("Link onClick called", function () {
    var onClick = jest.fn();

    var _render6 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      onClick: onClick
    }, "Link")),
        getByText = _render6.getByText;

    var link = getByText("Link");

    _react2.fireEvent.click(link);

    expect(onClick).toHaveBeenCalled();
  });
  test("Disabled link onClick not called", function () {
    var onClick = jest.fn();

    var _render7 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Link["default"], {
      onClick: onClick,
      disabled: true
    }, "Link")),
        getByText = _render7.getByText;

    var link = getByText("Link");

    _react2.fireEvent.click(link);

    expect(onClick).toHaveBeenCalledTimes(0);
  });
});